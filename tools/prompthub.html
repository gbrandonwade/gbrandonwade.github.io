<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptHub - AI Prompt Engineering Platform</title>
    <meta name="description" content="Build, test, version, and optimize your AI prompts across multiple models. The complete prompt engineering platform.">
    
    <!-- React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(to bottom right, #111827, #1f2937, #111827);
            color: #f3f4f6;
            min-height: 100vh;
        }

        .app-container {
            min-height: 100vh;
        }

        /* Header Styles */
        .header {
            background: rgba(17, 24, 39, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(75, 85, 99, 0.5);
            position: sticky;
            top: 0;
            z-index: 40;
        }

        .header-content {
            max-width: 80rem;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            padding: 0.5rem;
            background: linear-gradient(135deg, #8b5cf6, #3b82f6);
            border-radius: 0.5rem;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(to right, #a78bfa, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Navigation */
        .nav-tabs {
            background: rgba(31, 41, 55, 0.3);
            border-bottom: 1px solid rgba(75, 85, 99, 0.5);
            overflow-x: auto;
        }

        .nav-container {
            max-width: 80rem;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            gap: 2rem;
        }

        .nav-tab {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-bottom: 2px solid transparent;
            color: #9ca3af;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .nav-tab:hover {
            color: #e5e7eb;
        }

        .nav-tab.active {
            border-bottom-color: #8b5cf6;
            color: #a78bfa;
        }

        /* Main Content */
        .main-content {
            max-width: 80rem;
            margin: 0 auto;
            padding: 1.5rem 1rem;
        }

        /* Cards */
        .card {
            background: rgba(31, 41, 55, 0.5);
            border-radius: 0.75rem;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(75, 85, 99, 0.5);
        }

        /* Form Elements */
        .input, .textarea, .select {
            width: 100%;
            background: rgba(17, 24, 39, 0.5);
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 0.5rem 0.75rem;
            color: #f3f4f6;
            outline: none;
            transition: border-color 0.3s;
        }

        .input:focus, .textarea:focus, .select:focus {
            border-color: #8b5cf6;
        }

        .textarea {
            resize: none;
            font-family: monospace;
            font-size: 0.875rem;
        }

        /* Buttons */
        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
            font-size: 0.875rem;
        }

        .btn-primary {
            background: #8b5cf6;
            color: white;
        }

        .btn-primary:hover {
            background: #7c3aed;
        }

        .btn-secondary {
            background: #3b82f6;
            color: white;
        }

        .btn-secondary:hover {
            background: #2563eb;
        }

        .btn-ghost {
            background: #374151;
            color: #e5e7eb;
        }

        .btn-ghost:hover {
            background: #4b5563;
        }

        /* Grid Layouts */
        .grid-3 {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        @media (min-width: 768px) {
            .grid-3 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .grid-3 {
                grid-template-columns: 2fr 1fr;
            }
        }

        /* Prompt Block */
        .prompt-block {
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem;
            background: rgba(55, 65, 81, 0.3);
            border-radius: 0.5rem;
            transition: all 0.3s;
            border: none;
            color: #e5e7eb;
            cursor: pointer;
        }

        .prompt-block:hover {
            background: rgba(55, 65, 81, 0.5);
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            left: 1rem;
            max-width: 24rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            animation: slideIn 0.3s ease-out;
        }

        @media (min-width: 640px) {
            .notification {
                left: auto;
            }
        }

        .notification.success {
            background: #10b981;
        }

        .notification.error {
            background: #ef4444;
        }

        @keyframes slideIn {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Mobile Adjustments */
        @media (max-width: 640px) {
            .header-content {
                padding: 0.75rem;
            }

            .logo-text {
                font-size: 1.25rem;
            }

            .nav-tab {
                padding: 0.625rem 0.75rem;
                font-size: 0.875rem;
            }

            .main-content {
                padding: 1rem;
            }

            .card {
                padding: 1rem;
            }
        }

        /* Additional utility classes */
        .space-y-4 > * + * {
            margin-top: 1rem;
        }

        .space-y-3 > * + * {
            margin-top: 0.75rem;
        }

        .space-y-2 > * + * {
            margin-top: 0.5rem;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-2 {
            gap: 0.5rem;
        }

        .gap-3 {
            gap: 0.75rem;
        }

        .gap-4 {
            gap: 1rem;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-xs {
            font-size: 0.75rem;
        }

        .text-gray-400 {
            color: #9ca3af;
        }

        .text-gray-500 {
            color: #6b7280;
        }

        .font-semibold {
            font-weight: 600;
        }

        .font-medium {
            font-weight: 500;
        }

        .mb-3 {
            margin-bottom: 0.75rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mt-4 {
            margin-top: 1rem;
        }

        .rounded-lg {
            border-radius: 0.5rem;
        }

        .bg-gray-900-50 {
            background: rgba(17, 24, 39, 0.5);
        }

        .line-clamp-3 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }

        .tag {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background: rgba(139, 92, 246, 0.2);
            color: #a78bfa;
            border-radius: 0.25rem;
            font-size: 0.75rem;
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #6b7280;
        }

        .empty-state-icon {
            width: 3rem;
            height: 3rem;
            margin: 0 auto 0.75rem;
            opacity: 0.5;
        }

        .test-result {
            background: rgba(31, 41, 55, 0.5);
            border-radius: 0.75rem;
            padding: 1.25rem;
            border: 1px solid rgba(75, 85, 99, 0.5);
        }

        .test-result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .test-result-score {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            color: #10b981;
            font-size: 0.875rem;
        }

        .test-result-content {
            background: rgba(17, 24, 39, 0.5);
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            max-height: 12rem;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.75rem;
            color: #d1d5db;
            white-space: pre-wrap;
        }

        .test-result-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            font-size: 0.75rem;
        }

        .test-result-stat {
            background: rgba(17, 24, 39, 0.3);
            border-radius: 0.25rem;
            padding: 0.25rem 0.5rem;
        }

        .prompt-title-input {
            font-size: 1.25rem;
            font-weight: 600;
            background: transparent;
            border: none;
            border-bottom: 1px solid #4b5563;
            padding-bottom: 0.25rem;
            color: #f3f4f6;
            outline: none;
            width: 100%;
        }

        .prompt-title-input:focus {
            border-bottom-color: #8b5cf6;
        }

        .mobile-blocks-toggle {
            display: none;
            width: 100%;
        }

        @media (max-width: 1023px) {
            .mobile-blocks-toggle {
                display: block;
            }

            .desktop-blocks {
                display: none;
            }
        }

        @media (min-width: 1024px) {
            .mobile-blocks-panel {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide icon component wrapper
        const Icon = ({ name, size = 20, ...props }) => {
            useEffect(() => {
                lucide.createIcons();
            }, []);
            
            return React.createElement('i', {
                'data-lucide': name,
                ...props,
                style: { width: size, height: size, ...props.style }
            });
        };

        const PromptHub = () => {
            // State management
            const [activeTab, setActiveTab] = useState('build');
            const [prompts, setPrompts] = useState([]);
            const [contexts, setContexts] = useState([]);
            const [currentPrompt, setCurrentPrompt] = useState({
                id: null,
                title: 'Untitled Prompt',
                content: '',
                tags: [],
                notes: '',
                version: 1,
                contexts: []
            });
            const [searchQuery, setSearchQuery] = useState('');
            const [testResults, setTestResults] = useState([]);
            const [notification, setNotification] = useState(null);
            const [showBlocksPanel, setShowBlocksPanel] = useState(false);

            // Load data from localStorage on mount
            useEffect(() => {
                const savedPrompts = localStorage.getItem('prompthub_prompts');
                const savedContexts = localStorage.getItem('prompthub_contexts');
                if (savedPrompts) setPrompts(JSON.parse(savedPrompts));
                if (savedContexts) setContexts(JSON.parse(savedContexts));
            }, []);

            // Save data to localStorage
            useEffect(() => {
                localStorage.setItem('prompthub_prompts', JSON.stringify(prompts));
            }, [prompts]);

            useEffect(() => {
                localStorage.setItem('prompthub_contexts', JSON.stringify(contexts));
            }, [contexts]);

            // Update lucide icons when content changes
            useEffect(() => {
                lucide.createIcons();
            });

            // Prompt block templates
            const promptBlocks = [
                { id: 'role', label: 'Role Definition', template: 'You are an expert [FIELD] with deep knowledge in [SPECIALIZATION].' },
                { id: 'task', label: 'Task Description', template: 'Your task is to [ACTION] the following [INPUT TYPE]:' },
                { id: 'format', label: 'Output Format', template: 'Format your response as [FORMAT TYPE]. Include [REQUIRED ELEMENTS].' },
                { id: 'constraints', label: 'Constraints', template: 'Constraints:\n- [CONSTRAINT 1]\n- [CONSTRAINT 2]\n- [CONSTRAINT 3]' },
                { id: 'examples', label: 'Examples', template: 'Example Input: [INPUT]\nExample Output: [OUTPUT]' },
                { id: 'tone', label: 'Tone & Style', template: 'Use a [TONE] tone. Write in [STYLE] style suitable for [AUDIENCE].' },
                { id: 'steps', label: 'Step-by-Step', template: 'Follow these steps:\n1. [STEP 1]\n2. [STEP 2]\n3. [STEP 3]' },
                { id: 'context', label: 'Context Block', template: 'Context: [PROVIDE BACKGROUND INFORMATION]' },
                { id: 'json', label: 'JSON Output', template: 'Return the response in valid JSON format with the following structure:\n{\n  "field1": "value",\n  "field2": "value"\n}' },
                { id: 'reasoning', label: 'Chain of Thought', template: 'Think step-by-step and show your reasoning process before providing the final answer.' }
            ];

            // Show notification
            const showNotification = (message, type = 'success') => {
                setNotification({ message, type });
                setTimeout(() => setNotification(null), 3000);
            };

            // Add block to prompt
            const addBlockToPrompt = (block) => {
                const newContent = currentPrompt.content + (currentPrompt.content ? '\n\n' : '') + block.template;
                setCurrentPrompt({ ...currentPrompt, content: newContent });
                showNotification(`Added ${block.label} block`);
                if (window.innerWidth < 1024) {
                    setShowBlocksPanel(false);
                }
            };

            // Save prompt
            const savePrompt = () => {
                if (!currentPrompt.content.trim()) {
                    showNotification('Please add some content to your prompt', 'error');
                    return;
                }

                const promptToSave = {
                    ...currentPrompt,
                    id: currentPrompt.id || Date.now(),
                    updatedAt: new Date().toISOString()
                };

                if (currentPrompt.id) {
                    setPrompts(prompts.map(p => p.id === currentPrompt.id ? promptToSave : p));
                } else {
                    setPrompts([...prompts, promptToSave]);
                }

                setCurrentPrompt(promptToSave);
                showNotification('Prompt saved successfully');
            };

            // Load prompt for editing
            const loadPrompt = (prompt) => {
                setCurrentPrompt(prompt);
                setActiveTab('build');
            };

            // Delete prompt
            const deletePrompt = (id) => {
                setPrompts(prompts.filter(p => p.id !== id));
                if (currentPrompt.id === id) {
                    setCurrentPrompt({
                        id: null,
                        title: 'Untitled Prompt',
                        content: '',
                        tags: [],
                        notes: '',
                        version: 1,
                        contexts: []
                    });
                }
                showNotification('Prompt deleted');
            };

            // Test prompt
            const testPrompt = () => {
                if (!currentPrompt.content) {
                    showNotification('Please add content to test', 'error');
                    return;
                }

                const models = ['GPT-4', 'Claude 3', 'Grok'];
                const simulatedResults = models.map(model => ({
                    model,
                    response: `[Simulated ${model} response]\n\nBased on your prompt:\n"${currentPrompt.content.substring(0, 100)}..."\n\nThis is a simulated response showing how ${model} would interpret and respond to your prompt.`,
                    tokens: Math.floor(Math.random() * 500) + 100,
                    latency: (Math.random() * 2 + 0.5).toFixed(2),
                    score: Math.floor(Math.random() * 30) + 70
                }));

                setTestResults(simulatedResults);
                setActiveTab('test');
                showNotification('Test completed');
            };

            // Suggest fix
            const suggestFix = () => {
                const suggestions = [
                    'Add more specific context about the expected output format',
                    'Include examples to clarify the desired response style',
                    'Define clear constraints to prevent unwanted behaviors',
                    'Specify the target audience for better tone alignment',
                    'Break down complex tasks into step-by-step instructions'
                ];

                const randomSuggestions = suggestions
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 2)
                    .join('\n\n• ');

                showNotification('Suggestions generated');
                alert(`Suggested improvements:\n\n• ${randomSuggestions}`);
            };

            // Save context
            const saveContext = () => {
                const contextName = prompt('Enter a name for this context snippet:');
                if (contextName && currentPrompt.content) {
                    const newContext = {
                        id: Date.now(),
                        name: contextName,
                        content: currentPrompt.content,
                        createdAt: new Date().toISOString()
                    };
                    setContexts([...contexts, newContext]);
                    showNotification('Context snippet saved');
                }
            };

            // Filter prompts
            const filteredPrompts = prompts.filter(p => 
                p.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                p.content.toLowerCase().includes(searchQuery.toLowerCase()) ||
                p.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))
            );

            return (
                <div className="app-container">
                    {/* Header */}
                    <header className="header">
                        <div className="header-content">
                            <div className="logo-section">
                                <div className="logo-icon">
                                    <Icon name="zap" size={24} style={{color: 'white'}} />
                                </div>
                                <h1 className="logo-text">PromptHub</h1>
                            </div>
                            <div className="flex items-center gap-4">
                                <button className="btn-ghost" style={{padding: '0.5rem'}}>
                                    <Icon name="settings" size={20} />
                                </button>
                                <div className="text-sm text-gray-400" style={{display: window.innerWidth > 640 ? 'block' : 'none'}}>
                                    {prompts.length} prompts • {contexts.length} contexts
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Navigation */}
                    <div className="nav-tabs">
                        <nav className="nav-container">
                            {[
                                { id: 'build', label: 'Build', icon: 'edit' },
                                { id: 'vault', label: 'Vault', icon: 'database' },
                                { id: 'test', label: 'Test', icon: 'test-tube' },
                                { id: 'context', label: 'Context', icon: 'file-text' }
                            ].map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`nav-tab ${activeTab === tab.id ? 'active' : ''}`}
                                >
                                    <Icon name={tab.icon} size={16} />
                                    <span>{tab.label}</span>
                                </button>
                            ))}
                        </nav>
                    </div>

                    {/* Main Content */}
                    <main className="main-content">
                        {/* Build Tab */}
                        {activeTab === 'build' && (
                            <div className="space-y-4">
                                {/* Mobile Blocks Toggle */}
                                <button
                                    onClick={() => setShowBlocksPanel(!showBlocksPanel)}
                                    className="mobile-blocks-toggle btn btn-primary"
                                    style={{width: '100%'}}
                                >
                                    <Icon name="plus" size={16} />
                                    <span>Add Prompt Blocks</span>
                                </button>

                                {/* Mobile Blocks Panel */}
                                {showBlocksPanel && (
                                    <div className="mobile-blocks-panel card">
                                        <div className="flex justify-between items-center mb-3">
                                            <h3 className="font-semibold">Prompt Blocks</h3>
                                            <button onClick={() => setShowBlocksPanel(false)}>
                                                <Icon name="x" size={20} />
                                            </button>
                                        </div>
                                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '0.5rem'}}>
                                            {promptBlocks.map(block => (
                                                <button
                                                    key={block.id}
                                                    onClick={() => addBlockToPrompt(block)}
                                                    className="prompt-block text-sm"
                                                >
                                                    {block.label}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                <div className="grid-3">
                                    {/* Editor Column */}
                                    <div className="space-y-4">
                                        <div className="card">
                                            <div className="space-y-3">
                                                <input
                                                    type="text"
                                                    value={currentPrompt.title}
                                                    onChange={(e) => setCurrentPrompt({ ...currentPrompt, title: e.target.value })}
                                                    className="prompt-title-input"
                                                />
                                                <div className="flex gap-2">
                                                    <button onClick={savePrompt} className="btn btn-primary">
                                                        <Icon name="save" size={16} />
                                                        Save
                                                    </button>
                                                    <button onClick={testPrompt} className="btn btn-secondary">
                                                        <Icon name="play" size={16} />
                                                        Test
                                                    </button>
                                                </div>
                                            </div>

                                            <textarea
                                                value={currentPrompt.content}
                                                onChange={(e) => setCurrentPrompt({ ...currentPrompt, content: e.target.value })}
                                                placeholder="Start building your prompt here..."
                                                className="textarea mt-4"
                                                style={{height: '20rem'}}
                                            />

                                            <div className="flex justify-between items-center mt-4">
                                                <div className="flex gap-2">
                                                    <button onClick={suggestFix} className="btn btn-ghost text-sm">
                                                        <Icon name="refresh-cw" size={14} />
                                                        Suggest Fix
                                                    </button>
                                                    <button onClick={saveContext} className="btn btn-ghost text-sm">
                                                        <Icon name="database" size={14} />
                                                        Save Context
                                                    </button>
                                                </div>
                                                <div className="text-xs text-gray-400">
                                                    {currentPrompt.content.length} chars • v{currentPrompt.version}
                                                </div>
                                            </div>
                                        </div>

                                        {/* Metadata */}
                                        <div className="card">
                                            <h3 className="font-semibold mb-3">Metadata</h3>
                                            <div className="space-y-3">
                                                <div>
                                                    <label className="text-sm text-gray-400">Tags</label>
                                                    <input
                                                        type="text"
                                                        placeholder="Add tags separated by commas"
                                                        value={currentPrompt.tags.join(', ')}
                                                        onChange={(e) => setCurrentPrompt({ 
                                                            ...currentPrompt, 
                                                            tags: e.target.value.split(',').map(t => t.trim()).filter(t => t)
                                                        })}
                                                        className="input text-sm mt-1"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="text-sm text-gray-400">Notes</label>
                                                    <textarea
                                                        placeholder="Add notes..."
                                                        value={currentPrompt.notes}
                                                        onChange={(e) => setCurrentPrompt({ ...currentPrompt, notes: e.target.value })}
                                                        className="textarea text-sm mt-1"
                                                        style={{height: '5rem'}}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Desktop Blocks */}
                                    <div className="desktop-blocks space-y-4">
                                        <div className="card">
                                            <h3 className="font-semibold mb-4">Prompt Blocks</h3>
                                            <div className="space-y-2">
                                                {promptBlocks.map(block => (
                                                    <button
                                                        key={block.id}
                                                        onClick={() => addBlockToPrompt(block)}
                                                        className="prompt-block flex justify-between items-center"
                                                    >
                                                        <span className="text-sm font-medium">{block.label}</span>
                                                        <Icon name="plus" size={16} />
                                                    </button>
                                                ))}
                                            </div>
                                        </div>

                                        {contexts.length > 0 && (
                                            <div className="card">
                                                <h3 className="font-semibold mb-4">Context Snippets</h3>
                                                <div className="space-y-2" style={{maxHeight: '16rem', overflowY: 'auto'}}>
                                                    {contexts.map(ctx => (
                                                        <button
                                                            key={ctx.id}
                                                            onClick={() => {
                                                                setCurrentPrompt({
                                                                    ...currentPrompt,
                                                                    content: currentPrompt.content + '\n\n' + ctx.content
                                                                });
                                                                showNotification('Context added');
                                                            }}
                                                            className="prompt-block text-sm"
                                                        >
                                                            {ctx.name}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Vault Tab */}
                        {activeTab === 'vault' && (
                            <div className="space-y-4">
                                <div className="card">
                                    <div style={{position: 'relative'}}>
                                        <Icon name="search" size={20} style={{position: 'absolute', left: '0.75rem', top: '50%', transform: 'translateY(-50%)', color: '#9ca3af'}} />
                                        <input
                                            type="text"
                                            placeholder="Search prompts..."
                                            value={searchQuery}
                                            onChange={(e) => setSearchQuery(e.target.value)}
                                            className="input"
                                            style={{paddingLeft: '2.5rem'}}
                                        />
                                    </div>
                                </div>

                                <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '1rem'}}>
                                    {filteredPrompts.map(prompt => (
                                        <div key={prompt.id} className="card">
                                            <div className="flex justify-between items-start mb-3">
                                                <h3 className="font-semibold">{prompt.title}</h3>
                                                <div className="flex gap-1">
                                                    <button onClick={() => loadPrompt(prompt)}>
                                                        <Icon name="edit" size={16} />
                                                    </button>
                                                    <button onClick={() => deletePrompt(prompt.id)} style={{color: '#ef4444'}}>
                                                        <Icon name="trash-2" size={16} />
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <p className="text-sm text-gray-400 line-clamp-3">
                                                {prompt.content}
                                            </p>
                                            
                                            {prompt.tags.length > 0 && (
                                                <div className="flex flex-wrap gap-2 mt-3">
                                                    {prompt.tags.map((tag, idx) => (
                                                        <span key={idx} className="tag">{tag}</span>
                                                    ))}
                                                </div>
                                            )}
                                            
                                            <div className="flex justify-between items-center mt-3 text-xs text-gray-500">
                                                <span>v{prompt.version}</span>
                                                <button
                                                    onClick={() => {
                                                        navigator.clipboard.writeText(prompt.content);
                                                        showNotification('Copied to clipboard');
                                                    }}
                                                    className="flex items-center gap-1"
                                                >
                                                    <Icon name="copy" size={12} />
                                                    Copy
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {filteredPrompts.length === 0 && (
                                    <div className="empty-state">
                                        <Icon name="database" size={48} className="empty-state-icon" />
                                        <p>No prompts found</p>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Test Tab */}
                        {activeTab === 'test' && (
                            <div className="space-y-4">
                                <div className="card">
                                    <div className="flex justify-between items-center">
                                        <div>
                                            <h3 className="font-semibold mb-2">Test Bench</h3>
                                            <p className="text-sm text-gray-400">Compare prompt performance across models</p>
                                        </div>
                                        <button onClick={testPrompt} className="btn btn-primary">
                                            <Icon name="play" size={16} />
                                            Run Test
                                        </button>
                                    </div>
                                </div>

                                {testResults.length > 0 && (
                                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '1rem'}}>
                                        {testResults.map((result, idx) => (
                                            <div key={idx} className="test-result">
                                                <div className="test-result-header">
                                                    <h4 className="font-semibold">{result.model}</h4>
                                                    <div className="test-result-score">
                                                        <Icon name="check-circle" size={16} />
                                                        <span>{result.score}%</span>
                                                    </div>
                                                </div>
                                                
                                                <div className="test-result-content">
                                                    {result.response}
                                                </div>
                                                
                                                <div className="test-result-stats">
                                                    <div className="test-result-stat">
                                                        <span className="text-gray-500">Tokens:</span> {result.tokens}
                                                    </div>
                                                    <div className="test-result-stat">
                                                        <span className="text-gray-500">Latency:</span> {result.latency}s
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}

                                {testResults.length === 0 && (
                                    <div className="empty-state">
                                        <Icon name="test-tube" size={48} className="empty-state-icon" />
                                        <p>No test results yet</p>
                                        <p className="text-sm mt-1">Run a test to compare model outputs</p>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Context Tab */}
                        {activeTab === 'context' && (
                            <div className="space-y-4">
                                <div className="card">
                                    <h3 className="font-semibold mb-4">Context Manager</h3>
                                    <p className="text-sm text-gray-400 mb-6">
                                        Save and manage reusable context snippets
                                    </p>
                                    
                                    {contexts.length > 0 ? (
                                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '1rem'}}>
                                            {contexts.map(ctx => (
                                                <div key={ctx.id} className="bg-gray-900-50 rounded-lg" style={{padding: '1rem', border: '1px solid #374151'}}>
                                                    <div className="flex justify-between items-center mb-2">
                                                        <h4 className="font-medium">{ctx.name}</h4>
                                                        <button
                                                            onClick={() => {
                                                                setContexts(contexts.filter(c => c.id !== ctx.id));
                                                                showNotification('Context deleted');
                                                            }}
                                                            style={{color: '#ef4444'}}
                                                        >
                                                            <Icon name="x" size={16} />
                                                        </button>
                                                    </div>
                                                    <p className="text-sm text-gray-400 line-clamp-3 mb-2">{ctx.content}</p>
                                                    <div className="flex justify-between items-center text-xs text-gray-500">
                                                        <span>{new Date(ctx.createdAt).toLocaleDateString()}</span>
                                                        <button
                                                            onClick={() => {
                                                                navigator.clipboard.writeText(ctx.content);
                                                                showNotification('Copied to clipboard');
                                                            }}
                                                            className="flex items-center gap-1"
                                                        >
                                                            <Icon name="copy" size={12} />
                                                            Copy
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    ) : (
                                        <div className="empty-state">
                                            <Icon name="file-text" size={48} className="empty-state-icon" />
                                            <p>No context snippets saved</p>
                                            <p className="text-sm mt-1">Save contexts from the Build tab</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Notification */}
                    {notification && (
                        <div className={`notification ${notification.type}`}>
                            <Icon name={notification.type === 'error' ? 'alert-circle' : 'check-circle'} size={16} />
                            <span className="text-sm">{notification.message}</span>
                        </div>
                    )}
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<PromptHub />, document.getElementById('root'));
    </script>
</body>
</html>
